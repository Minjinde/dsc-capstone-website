<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">

    <!--Page Title-->
    <title>San Diego Trip Destination Prediction​</title>

    <!--Meta Keywords and Description-->
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>

    <!--Favicon-->
    <link rel="shortcut icon" href="images/favicon.ico" title="Favicon"/>

    <!-- Main CSS Files -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Namari Color CSS -->
    <link rel="stylesheet" href="css/namari-color.css">

    <!--Icon Fonts - Font Awesome Icons-->
    <link rel="stylesheet" href="css/font-awesome.min.css">

    <!-- Animate CSS-->
    <link href="css/animate.css" rel="stylesheet" type="text/css">

    <!--Google Webfonts-->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css'>

    <script> 
    $(function(){
      $("#divId").load("visualization.html"); 
    });
    </script> 
</head>
<body>

<!-- Preloader -->
<div id="preloader">
    <div id="status" class="la-ball-triangle-path">
        <div></div>
        <div></div>
        <div></div>
    </div>
</div>
<!--End of Preloader-->

<div class="page-border" data-wow-duration="0.7s" data-wow-delay="0.2s">
    <div class="top-border wow fadeInDown animated" style="visibility: visible; animation-name: fadeInDown;"></div>
    <div class="right-border wow fadeInRight animated" style="visibility: visible; animation-name: fadeInRight;"></div>
    <div class="bottom-border wow fadeInUp animated" style="visibility: visible; animation-name: fadeInUp;"></div>
    <div class="left-border wow fadeInLeft animated" style="visibility: visible; animation-name: fadeInLeft;"></div>
</div>

<div id="wrapper">

    <header id="banner" class="scrollto clearfix" data-enllax-ratio=".5">
        <div id="header" class="nav-collapse">
            <div class="row clearfix">
                <div class="col-1">

                    <!--Logo-->
                    <div id="logo">

                        <!--Logo that is shown on the banner-->
                        <img src="images/logo.png" id="banner-logo" alt="Landing Page"/>
                        <!--End of Banner Logo-->

                        <!--The Logo that is shown on the sticky Navigation Bar-->
                        <img src="images/logo-2.png" id="navigation-logo" alt="Landing Page"/>
                        <!--End of Navigation Logo-->

                    </div>
                    <!--End of Logo-->

                    <aside>

                        <!--Social Icons in Header-->
                        <ul class="social-icons">
                            <li>
                                <a target="_blank" title="Github" href="https://github.com/ryansliao/DSC-Capstone">
                                    <i class="fa fa-github fa-3x"></i><span>Github</span>
                                </a>
                            </li>
                        </ul>
                        <!--End of Social Icons in Header-->

                    </aside>

                    <!--Main Navigation-->
                    <nav id="nav-main">
                        <ul>
                            <li>
                                <a href="#banner">Home</a>
                            </li>
                            <li>
                                <a href="#introduction">Introduction</a>
                            </li>
                            <li>
                                <a href="#data">Data</a>
                            </li>
                            <li>
                                <a href="#method">Method</a>
                            </li>
                            <li>
                                <a href="#result">Results</a>
                            </li>
                            <li>
                                <a href="#discussion">Discussion</a>
                            </li>
                            <li>
                                <a href="#conclusion">Conclusion</a>
                            </li>
                            
                        </ul>
                    </nav>
                    <!--End of Main Navigation-->

                    <div id="nav-trigger"><span></span></div>
                    <nav id="nav-mobile"></nav>

                </div>
            </div>
        </div><!--End of Header-->

        <!--Banner Content-->
        <div id="banner-content" class="row clearfix">

            <div class="col-38">

                <div class="section-heading">
                    <h1>San Diego Trip Destination Prediction</h1>
                    <h2>something</h2>
                </div>

                

            </div>

        </div><!--End of Row-->
    </header>

    

    <!--Main Content Area-->
    <main id="content">

        <!--Introduction-->
        <section id="introduction" class="introduction scrollto">

            <div class="row clearfix">

                <div class="col-3">
                    <div class="section-heading">
                        <h2 class="section-title">Introduction</h2>
                        
                    </div>

                </div>

                <div class="col-61">
                    <p>
                        The underlying principle of ABMs is that an individual or household’s demand for travel is based on their daily activity 
                        patterns and choices. ABMs can simulate individual and household decisions that comprise everyday travel. Leveraging ABMs 
                        can help researchers and policymakers understand the effect of different decisions and policies on travel behavior over time.
                        Since a variety of factors contribute to an individual’s activity patterns, numerous components can be required in an ABM. 
                        The ABM is a sequence of models predicting various aspects of the populations' travel habits. 
                        This project focuses on the ABM Trip Destination component, one of the final steps before determining an individual's activity patterns and travel demand. 
                    </p>
                    <p>
                        The implications of ABMs can help SANDAG make infrastructure and urban planning policies within the San Diego region.
                        With SANDAG's trip destination component requiring 40 minutes to complete and generate 12 million trips, 
                        this project aims to utilize machine learning to improve computational efficiency while maintaining predictive performance.
                    </p>

                    

                </div>

            </div>


        </section>
        <!--End of Introduction-->


        


        <!--data-->

        <section id="data" class="secondary-color text-center scrollto clearfix ">
            <div class="row clearfix">
        <div class="section-heading">
            <h2 class="section-title">Data and Feature Selection</h2>
        </div>

        <div><p>This paper draws data from SANDAG's synthetic files. Synthetic datasets were generated from San Diego Census data, 
            and serves as input data for SANDAG's ABM. Synthetic population is an important initial component of ABMs. It is a 
            list of sociodemographic information for household and peoples in the given region. The synthetic person dataset 
            contains 27 features regarding a San Diego resident's sociodemographic information, such as age, race, education level,
             and each row is a record of an individual. The synthetic tours dataset contains features regarding the tour details, 
             such as origin, purpose, mode, where each row is a simulated trip. More information about each feature can be found 
             through the SANDAG's ABM Github Repository.</p></div>


        <aside class="row text-center scrollto clearfix" data-featherlight-gallery
                 data-featherlight-filter="a">
                
                <a href="images/gallery-images/origin_count.jpg" data-featherlight="image" class="col-3 img"
                   data-wow-delay="0.1s"><img src="images/gallery-images/origin_count.png" alt="Landing Page"/></a>
                <div class = "col-6 plot_text">From the left we could see that most of the trips we have in the house-
                    hold living in the given district is started from the middle of San Diego County and have a
                    destination near the San Diego downtown</div>
                <a href="images/gallery-images/dest_count.png" data-featherlight="image" class="col-3 img"
                   data-wow-delay="0.3s"><img src="images/gallery-images/dest_count.png" alt="Landing Page"/></a>
                <div class = "col-6 plot_text"> And from this plot we could see that trips usually have a
                    destination near the San Diego</div>

                <div class = "col-6 plot_text">This one shows the mean age of travelers going into a LUZ zone. As we could see
                    most LUZ zones have similar ages of travelers except the zones on the East of the San Diego
                    County. Which could provide us some idea of where a person is going by their age</div>
                <a href="images/gallery-images/mean_age.png" data-featherlight="image" class="col-3 img"
                   data-wow-delay="0.5s"><img src="images/gallery-images/mean_age.png" alt="Landing Page"/></a>
                <div class = "col-6 plot_text">This plot provide an idea of the mean household income for people traveling to
                    a that LUZ zone. People have a destination near La Jolla area tend
                    to have higher household income, indicates how income of a person would tell
                    us about where that person is going</div>
                <a href="images/gallery-images/mean_income.png" data-featherlight="image" class="col-3 img"
              d     data-wow-delay="1.1s"><img src="images/gallery-images/mean_income.png" alt="Landing Page"/></a>
                <a href="images/gallery-images/mean_people.png" data-featherlight="image" class="col-3 img"
                   data-wow-delay="0.9s"><img src="images/gallery-images/mean_people.png" alt="Landing Page"/></a>
                <div class = "col-6 plot_text">This plot show us the mean number of participants in the trip. 
                    We could see that most Zones near San Diego city and East of the County have only one participant and trip to other Zone have 
                     more participants</div>
                <a href="images/gallery-images/mean_tour.png" data-featherlight="image" class="col-3 img"
                   data-wow-delay="0.7s"><img src="images/gallery-images/mean_tour.png" alt="Landing Page"/></a>
                <div class = "col-6 plot_text">And the last plot shows the mean number of plots people traveling to that LUZ zone is taking. 
                    We could see that people traveling to South East San Diego Country take less tour compare to people traveling near the city

                </div>

        </aside>
        <div><h2>interactive 3D map for synthetic population trip destination distribution</h2></div>

        <div class="iframe-container">
            <iframe src="visualization.html"></iframe>
            
        </div>
        <!--End of data-->

        

    </div>
    </section>

        <!--method Section-->
        
        
        <div id="method" class="scrollto clearfix text-center">
            <div class="section-heading">
                <h2 class="section-title">Methodology</h2>
            </div>

            <div class="row no-padding-bottom clearfix">


                


                <div class="col-3 left">

                    <p>When deciding necessary features for the model, exploratory data analysis was reference to
                        find the synthetic dataset variables highly correlated with destination, such as tour category,
                        tour type, and origin.</p>

                    <p>Using cross validation on our synthetic tours dataset, we tested baseline model performance
                        on our dataset. With a classification problem, we tested Decision Tree Classifier, Random
                        Forest Classifier, XGBoost Classifier, and AdaBoost Classifier. Comparing baseline model
                        performances, we chose to move forward with the Decision Tree Classifier.
                    </p>
                </div>

                <div class="col-3 left">
                    
                    <p>The baseline Decision Tree model resulted in a 90% training accuracy, 52% testing ac-
                        curacy, and 46% F1 macro averaged score. Through our exploratory data analysis and the
                        baseline results, we concluded that our dataset suffered from severe class imbalance and
                        overfitting.
                        
                    </p>
                    <p>
                        To mitigate the risks of class imbalance, we utilize an oversampling technique, SMOTE, to
                        balance the class distribution of the dataset. Undersampling our majority classes resulted
                        in poor performance, so our data might have been sensitive to the loss of information. Im-
                        plementing SMOTE to increase the sample size of minority classes improved the metrics
                    </p>
                </div>
     
                <div class="col-3 left">
                    <p>The next steps was to fine tuning the model with GridSearch cross validation to find optimal
                        hyperparameters, such as, max_depth, min_samples_leaf, min_samples_split, etc. Finding
                        an optimal combination of these hyperparameters will help address the tree’s overfitting
                        and class imbalance issues. The optimized metric will be an F1 weighted average score</p>
                    <!--<img src="images/dancer.jpg"/>-->
                </div>

                

            </div>


        </div>
        <!--End of method Section-->

        <!--result-->
        <aside id="result" class="scrollto text-center" data-enllax-ratio=".2">

            <div class="row clearfix">

                <div class="section-heading">
                    <h2 class="section-title">Result</h2>
                </div>
                <div>
                    <p>
                        Implementing SMOTE did not heavily impact the F1 scoring metric of the baseline model. This is likely due to 
                        the variation and noise of the data being improperly captured by the synthetic data. However, 
                        The results of the GridSearch cross validation hyperparameter tuning resulted in a model with an F1 weighted 
                        average score of 73%. 
                        SANDAG is continuously seeking to improve their ABM trip prediction component while maintaining predictive 
                        performance. They evaluate the performance of different versions of models to their existing ABM by comparing 
                        trip distance distributions between the synthetic population's trips and trip prediction component. 
                        By association, predicting trip destinations is related to predicting the distances between a start and 
                        destination. Comparing distance distributions for similarities helps capture the variability in trip distances 
                        and allow flexibility in predictions. It is an efficient method of communicating performance results to a 
                        broader audience in a more interpretable manner. Consistency between the two distributions indicates the 
                        model's reliability and validity.
                        The distance distribution comparison between the Decision Tree and SANDAG's ABM was conducted through a 
                        2-Sample Kolmogorov-Smirnov Test. A sample of 10,000 trips from each model was randomly drawn to test 
                        whether the two samples come from similar distributions. A p-value of 0.9374 was obtained, meaning there is not 
                        sufficient evidence to suggest the two samples come from different distributions.
                    </p>
                </div>

                <aside class="row text-center scrollto clearfix" data-featherlight-gallery
                 data-featherlight-filter="a">
                
                <a href="images/gallery-images/prediction_map.png" data-featherlight="image" class="col-2 center-container"
                   data-wow-delay="0.1s"><img src="images/gallery-images/prediction_map.png" alt="Landing Page"/></a>
                   <a href="images/gallery-images/trip_distances.png" data-featherlight="image" class="col-2 center-container"
                   data-wow-delay="0.3s"><img src="images/gallery-images/trip_distances.png" alt="Landing Page"/></a>
                <div class = "col-2 plot_text">plot of destination distribution from our prediction, similar to the one we have 
                    for synthetic population 
                </div>
                
                <div class = "col-2 plot_text">Trip distance distribution from our prediction and synthetic population is also similar</div>
                </aside>
                
                

            </div>

        </aside>
        <!--End of result-->

         <!--discussion-->
        <section id="discussion" class="secondary-color text-center scrollto clearfix ">
            <div class="row clearfix">

                <div class="section-heading">
                    <h2 class="section-title">Discussion</h2>
                </div>

                <div>
                    <p>
                        Further improvements on the model could have been made. The decision tree’s training
                        and testing accuracy. Although the GridSearch cross validation was optimized for F1 score,
                        considering . Pre-pruning techniques, such as limiting maximum depth and minimum sam-
                        ples per leaf did not sufficiently prevent the decision tree from overfitting. Cost-complexity
                        pruning techniques were explored, but were chosen not to be implemented due to the large
                        data size and its sensitivity to sampling. In the future, the team hopes to explore with
                        more complex models, such as Neural Networks or ensemble methods that will capture the
                        complex relationship of the trips and improve generalization.
                    </p>
                </div>

                

            </div>
        </section>
        <!--End of discussion-->

        <!--conclusion-->
        <section id="conclusion" class="scrollto clearfix text-center">
            <div class="row clearfix">

                <div class="col-3">

                    <div class="section-heading">
                        <h2 class="section-title">Conclusion</h2>
                        
                    </div>

                </div>

                <div class="col-61">

                    <p>waiting</p>

                </div>

            </div>
        </section>
        <!--End of conclusion-->

       

        <aside id="member" class="scrollto text-center" data-enllax-ratio=".2">

            <div class="row clearfix">

                <div class="section-heading">
                    <h2 class="section-title">member</h2>
                </div>

                <!--User result-->
                <blockquote class="col-3 testimonial classic">
                    <img src="images/user-images/user-1.jpg" alt="User"/>
                    <q>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore
                        et dolore magna aliqua</q>
                    <footer>Ryan Liao - rsliao@ucsd.edu</footer>
                </blockquote>
                <!-- End of result-->

                <!--User result-->
                <blockquote class="col-3 testimonial classic">
                    <img src="images/user-images/user-2.jpg" alt="User"/>
                    <q>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore
                        et dolore magna aliqua</q>
                    <footer>Emily Chen - e6chen@ucsd.edu</footer>
                </blockquote>
                <!-- End of result-->

                <!--User result-->
                <blockquote class="col-3 testimonial classic">
                    <img src="images/user-images/user-3.jpg" alt="User"/>
                    <q>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore
                        et dolore magna aliqua</q>
                    <footer>Minjin Li - mil035@ucsd.edu</footer>
                </blockquote>
                <!-- End of result-->

            </div>

        </aside>

    </main>
    <!--End Main Content Area-->


    <!--Footer-->
    <footer id="landing-footer" class="clearfix">
        <div class="row clearfix">

            <!--Social Icons in Footer-->
            <ul class="col-2 social-icons">
                <li>
                    <a target="_blank" title="Github" href="https://github.com/ryansliao/DSC-Capstone">
                        <i class="fa fa-github fa-5x"></i><span>Github</span>
                    </a>
                </li>
                
            </ul>
            <!--End of Social Icons in Footer-->
        </div>
    </footer>
    <!--End of Footer-->

</div>

<!-- Include JavaScript resources -->
<script src="js/jquery.1.8.3.min.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/featherlight.min.js"></script>
<script src="js/featherlight.gallery.min.js"></script>
<script src="js/jquery.enllax.min.js"></script>
<script src="js/jquery.scrollUp.min.js"></script>
<script src="js/jquery.easing.min.js"></script>
<script src="js/jquery.stickyNavbar.min.js"></script>
<script src="js/jquery.waypoints.min.js"></script>
<script src="js/images-loaded.min.js"></script>
<script src="js/lightbox.min.js"></script>
<script src="js/site.js"></script>


</body>
</html>
